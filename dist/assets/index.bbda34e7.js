var x=Object.defineProperty;var P=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var A=(e,s,t)=>s in e?x(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,I=(e,s)=>{for(var t in s||(s={}))H.call(s,t)&&A(e,t,s[t]);if(P)for(var t of P(s))B.call(s,t)&&A(e,t,s[t]);return e};import{d as _,r as W,t as V,o as l,c,a as G,b as a,F as g,e as E,n as M,w as b,p as N,f as T,g as v,h as w,i as $,u as f,j as S,k as j,l as q,m as L,q as R,s as z}from"./vendor.a4b306b0.js";const Q=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}};Q();const U=["0","1","2","3","4","5","6","7","8","9"],J=[" ","+","-","*","/"],X=[" ","Tab"],Z=U.concat(J,X),ee=13,se=16,te=9,oe=8,re=17,O=81,F=68,ne=67;var K=(e,s)=>{for(const[t,n]of s)e[t]=n;return e};const ie=_({name:"TerminalCursor",emits:["submitCommand","closeTerminal","sendErrorMessage","resetKeydown"],setup(){const e=W({cmd:"",cursorPosition:0,isFocus:!1});return I({},V(e))},computed:{leftCmd(){return this.cmd.slice(0,Math.max(0,this.cursorPosition))},rightCmd(){return this.cmd.slice(this.cursorPosition+1)},cursorCmd(){var e;return((e=this.cmd)==null?void 0:e[this.cursorPosition])||" "}},created(){this.$options.allowedKeys=Z,this.focusCursor()},methods:{_appendChar(e){this.cmd=this.cmd.slice(0,this.cursorPosition+1)+e+this.cmd.slice(this.cursorPosition+1),this.cursorPosition+=1},_deleteChar(e){if(e<0||e>this.cmd.length)return;const s=this.cmd;this.cmd=s.slice(0,e)+s.slice(e+1),this.cursorPosition=Math.max(0,this.cursorPosition-1)},scrollToLastCommand(){this.$nextTick(()=>{this.$refs.currentCmd.scrollIntoView()})},focusCursor(){this.$nextTick(()=>{this.$refs.currentCmd.focus()})},enter(){if(!this.cmd){this.$emit("sendErrorMessage","Please input some values");return}this.$emit("submitCommand",this.cmd),this.cmd="",this.cursorPosition=0,this.scrollToLastCommand()},right(){this.cursorPosition=Math.min(this.cmd.length,this.cursorPosition+1)},left(){this.cursorPosition=Math.max(0,this.cursorPosition-1)},down(e){if(e.keyCode===oe||e.key==="Backspace"){this._deleteChar(this.cursorPosition-1);return}if(e.keyCode===O||e.keyCode===F&&e.ctrlKey){this.$emit("closeTerminal");return}if(e.keyCode===ne){this.cmd="",this.$emit("resetKeydown"),this.focusCursor();return}if(this.$options.allowedKeys.includes(e.key))e.key==="Tab"||e.keyCode===te?this._appendChar(" "):this._appendChar(e.key),this.scrollToLastCommand();else if(e.keyCode!==se&&e.keyCode!==ee&&e.keyCode!==re&&!e.metaKey){const s=`Sorry. "${e.key}" (Code: ${e.keyCode}) are not allowed in this terminal.`;this.$emit("sendErrorMessage",s)}}}}),ae=e=>(N("data-v-3633751a"),e=e(),T(),e),le={ref:"currentCmd",class:"current-cmd",tabindex:"-1"},ce=ae(()=>a("span",{class:"prefix"},"$ \xA0",-1)),ue={class:"left-cmd"},de=["innerHTML"],me=["innerHTML"],pe={class:"right-cmd"},he=["innerHTML"];function fe(e,s,t,n,o,i){return l(),c("div",{id:"cmd",tabindex:"0",onKeydown:[s[0]||(s[0]=(...r)=>e.down&&e.down(...r)),s[1]||(s[1]=b((...r)=>e.enter&&e.enter(...r),["enter"])),s[2]||(s[2]=b((...r)=>e.left&&e.left(...r),["left"])),s[3]||(s[3]=b((...r)=>e.right&&e.right(...r),["right"]))],onFocusin:s[4]||(s[4]=r=>e.isFocus=!0),onFocusout:s[5]||(s[5]=r=>e.isFocus=!1)},[G(e.$slots,"default",{},void 0,!0),a("span",le,[ce,a("span",ue,[(l(!0),c(g,null,E(Array.from(e.leftCmd),(r,u)=>(l(),c("span",{key:`l-${u}`,class:"char",innerHTML:r!==" "?r:"\xA0"},null,8,de))),128))]),a("span",{id:"cursor",class:M({flicker:e.isFocus})},[a("span",{class:"char",innerHTML:e.cursorCmd!==" "?e.cursorCmd:"\xA0"},null,8,me)],2),a("span",pe,[(l(!0),c(g,null,E(Array.from(e.rightCmd),(r,u)=>(l(),c("span",{key:`r-${u}`,class:"char",innerHTML:r!==" "?r:"\xA0"},null,8,he))),128))])],512)],32)}var _e=K(ie,[["render",fe],["__scopeId","data-v-3633751a"]]),p;(function(e){e.WARNING="warning",e.ERROR="error"})(p||(p={}));const ve=function(e){let s=e.trim().split(" "),t=[];if(s.length===0)return[];for(let n=0;n<s.length;n++){const o=s[n];if(!isNaN(Number(o))&&isFinite(Number(o)))t.push(Number(o));else{let i=t.pop(),r=t.pop();const u=parseFloat(i),h=parseFloat(r);switch(o){case"+":t.push(u+h);break;case"-":t.push(h-u);break;case"*":t.push(h*u);break;case"/":t.push(h/u);break}}}return t};const ye={class:"messages"},Ce=_({props:{message:null,type:null},setup(e){return(s,t)=>(l(),c("div",ye,[e.message?(l(),c("div",{key:0,class:M(`message message--${e.type}`)},v(e.message),3)):w("",!0)]))}});const Y=e=>(N("data-v-3eef0ea1"),e=e(),T(),e),ge={class:"cli"},$e=Y(()=>a("div",{class:"description"},[a("div",null,"Enter q, or Ctrl + D to close the Calculator"),a("div",null,"Enter c to reset the value")],-1)),ke={class:"combined-cmd last-value"},Ee=Y(()=>a("br",null,null,-1)),be=_({props:{title:null},emits:["closeTerminal"],setup(e){let s=$([]),t=$(""),n=$({message:"",type:p.WARNING});const o=d=>{s.value.push(d)},i=d=>{n.value={message:d,type:p.ERROR}},r=d=>{n.value={message:d,type:p.WARNING}},u=()=>{n.value={message:"",type:p.WARNING}},h=()=>{t.value="",s.value=[],n.value={message:"Your calculator was reset",type:p.WARNING}},D=function(d){const y=t.value+" "+d,m=ve(y);u();let C=d;if(!(m==null?void 0:m.length))i("There is something wrong with syntax. The calculator cleared"),t.value="";else{const k=Number(m[m.length-1]);C=k.toString(),isNaN(k)||!isFinite(k)?(r("last computed is not a number. Reset last value"),t.value=""):(m.length>1?r("Waiting for more input."):u(),t.value=m.join(" "))}o({cmd:d,response:C})};return(d,y)=>(l(),c("div",ge,[a("h1",null,v(e.title),1),$e,a("div",ke,"Stored: "+v(f(t)),1),S(Ce,{class:"message-block",message:f(n).message,type:f(n).type},null,8,["message","type"]),S(_e,{onSubmitCommand:D,onCloseTerminal:y[0]||(y[0]=m=>d.$emit("closeTerminal")),onSendErrorMessage:i,onResetKeydown:h},{default:j(()=>[(l(!0),c(g,null,E(f(s),(m,C)=>(l(),c("span",{key:C},[q(" $ "+v(m.cmd)+" ",1),a("div",null,v(m.response),1),Ee]))),128))]),_:1})]))}});var Ne=K(be,[["__scopeId","data-v-3eef0ea1"]]);const Te=e=>(N("data-v-dcf2bc9a"),e=e(),T(),e),we={key:0,class:"calculator-info"},Ke=Te(()=>a("div",null," You have just closed the terminal, click below button to open again ",-1)),Pe=_({setup(e){let s=$(!0);const t=n=>{s&&(n.keyCode===O||n.keyCode===F&&n.ctrlKey)&&(s.value=!1)};return(n,o)=>(l(),c(g,null,[f(s)?w("",!0):(l(),c("div",we,[Ke,a("button",{onClick:o[0]||(o[0]=i=>L(s)?s.value=!0:s=!0)},"Open terminal")])),f(s)?(l(),R(Ne,{key:1,tabindex:"-1",class:"terminal",title:"CLI RPN Calculator",onCloseTerminal:o[1]||(o[1]=i=>L(s)?s.value=!1:s=!1),onKeydown:t})):w("",!0)],64))}});var Ae=K(Pe,[["__scopeId","data-v-dcf2bc9a"]]);const Ie=_({setup(e){return(s,t)=>(l(),R(Ae))}});z(Ie).mount("#app");
